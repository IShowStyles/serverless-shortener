var to=Object.create;var Te=Object.defineProperty;var no=Object.getOwnPropertyDescriptor;var so=Object.getOwnPropertyNames;var io=Object.getPrototypeOf,oo=Object.prototype.hasOwnProperty;var l=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),ao=(e,r)=>{for(var t in r)Te(e,t,{get:r[t],enumerable:!0})},st=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of so(r))!oo.call(e,s)&&s!==t&&Te(e,s,{get:()=>r[s],enumerable:!(n=no(r,s))||n.enumerable});return e};var fe=(e,r,t)=>(t=e!=null?to(io(e)):{},st(r||!e||!e.__esModule?Te(t,"default",{value:e,enumerable:!0}):t,e)),co=e=>st(Te({},"__esModule",{value:!0}),e);var O=(e,r,t)=>new Promise((n,s)=>{var i=c=>{try{a(t.next(c))}catch(f){s(f)}},o=c=>{try{a(t.throw(c))}catch(f){s(f)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);a((t=t.apply(e,r)).next())});var it=l((Vh,uo)=>{uo.exports={name:"dotenv",version:"16.3.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var ut=l((Gh,P)=>{var ot=require("fs"),cr=require("path"),fo=require("os"),lo=require("crypto"),ho=it(),ur=ho.version,po=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function mo(e){let r={},t=e.toString();t=t.replace(/\r\n?/mg,`
`);let n;for(;(n=po.exec(t))!=null;){let s=n[1],i=n[2]||"";i=i.trim();let o=i[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(i=i.replace(/\\n/g,`
`),i=i.replace(/\\r/g,"\r")),r[s]=i}return r}function Eo(e){let r=ct(e),t=b.configDotenv({path:r});if(!t.parsed)throw new Error(`MISSING_DATA: Cannot parse ${r} for an unknown reason`);let n=at(e).split(","),s=n.length,i;for(let o=0;o<s;o++)try{let a=n[o].trim(),c=vo(t,a);i=b.decrypt(c.ciphertext,c.key);break}catch(a){if(o+1>=s)throw a}return b.parse(i)}function go(e){console.log(`[dotenv@${ur}][INFO] ${e}`)}function yo(e){console.log(`[dotenv@${ur}][WARN] ${e}`)}function ar(e){console.log(`[dotenv@${ur}][DEBUG] ${e}`)}function at(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function vo(e,r){let t;try{t=new URL(r)}catch(a){throw a.code==="ERR_INVALID_URL"?new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development"):a}let n=t.password;if(!n)throw new Error("INVALID_DOTENV_KEY: Missing key part");let s=t.searchParams.get("environment");if(!s)throw new Error("INVALID_DOTENV_KEY: Missing environment part");let i=`DOTENV_VAULT_${s.toUpperCase()}`,o=e.parsed[i];if(!o)throw new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);return{ciphertext:o,key:n}}function ct(e){let r=cr.resolve(process.cwd(),".env");return e&&e.path&&e.path.length>0&&(r=e.path),r.endsWith(".vault")?r:`${r}.vault`}function So(e){return e[0]==="~"?cr.join(fo.homedir(),e.slice(1)):e}function wo(e){go("Loading env from encrypted .env.vault");let r=b._parseVault(e),t=process.env;return e&&e.processEnv!=null&&(t=e.processEnv),b.populate(t,r,e),{parsed:r}}function bo(e){let r=cr.resolve(process.cwd(),".env"),t="utf8",n=!!(e&&e.debug);e&&(e.path!=null&&(r=So(e.path)),e.encoding!=null&&(t=e.encoding));try{let s=b.parse(ot.readFileSync(r,{encoding:t})),i=process.env;return e&&e.processEnv!=null&&(i=e.processEnv),b.populate(i,s,e),{parsed:s}}catch(s){return n&&ar(`Failed to load ${r} ${s.message}`),{error:s}}}function Io(e){let r=ct(e);return at(e).length===0?b.configDotenv(e):ot.existsSync(r)?b._configVault(e):(yo(`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`),b.configDotenv(e))}function Ro(e,r){let t=Buffer.from(r.slice(-64),"hex"),n=Buffer.from(e,"base64"),s=n.slice(0,12),i=n.slice(-16);n=n.slice(12,-16);try{let o=lo.createDecipheriv("aes-256-gcm",t,s);return o.setAuthTag(i),`${o.update(n)}${o.final()}`}catch(o){let a=o instanceof RangeError,c=o.message==="Invalid key length",f=o.message==="Unsupported state or unable to authenticate data";if(a||c){let h="INVALID_DOTENV_KEY: It must be 64 characters long (or more)";throw new Error(h)}else if(f){let h="DECRYPTION_FAILED: Please check your DOTENV_KEY";throw new Error(h)}else throw console.error("Error: ",o.code),console.error("Error: ",o.message),o}}function To(e,r,t={}){let n=!!(t&&t.debug),s=!!(t&&t.override);if(typeof r!="object")throw new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");for(let i of Object.keys(r))Object.prototype.hasOwnProperty.call(e,i)?(s===!0&&(e[i]=r[i]),n&&ar(s===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):e[i]=r[i]}var b={configDotenv:bo,_configVault:wo,_parseVault:Eo,config:Io,decrypt:Ro,parse:mo,populate:To};P.exports.configDotenv=b.configDotenv;P.exports._configVault=b._configVault;P.exports._parseVault=b._parseVault;P.exports.config=b.config;P.exports.decrypt=b.decrypt;P.exports.parse=b.parse;P.exports.populate=b.populate;P.exports=b});var Z=l((fr,pt)=>{var $e=require("buffer"),C=$e.Buffer;function ht(e,r){for(var t in e)r[t]=e[t]}C.from&&C.alloc&&C.allocUnsafe&&C.allocUnsafeSlow?pt.exports=$e:(ht($e,fr),fr.Buffer=Q);function Q(e,r,t){return C(e,r,t)}ht(C,Q);Q.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return C(e,r,t)};Q.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=C(e);return r!==void 0?typeof t=="string"?n.fill(r,t):n.fill(r):n.fill(0),n};Q.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return C(e)};Q.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return $e.SlowBuffer(e)}});var lr=l((Yh,mt)=>{var Ne=Z().Buffer,Ao=require("stream"),xo=require("util");function Oe(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=Ne.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=Ne.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}xo.inherits(Oe,Ao);Oe.prototype.write=function(r){this.buffer=Ne.concat([this.buffer,Ne.from(r)]),this.emit("data",r)};Oe.prototype.end=function(r){r&&this.write(r),this.emit("end",r),this.emit("close"),this.writable=!1,this.readable=!1};mt.exports=Oe});var Et=l((Jh,dt)=>{"use strict";var he=require("buffer").Buffer,hr=require("buffer").SlowBuffer;dt.exports=Le;function Le(e,r){if(!he.isBuffer(e)||!he.isBuffer(r)||e.length!==r.length)return!1;for(var t=0,n=0;n<e.length;n++)t|=e[n]^r[n];return t===0}Le.install=function(){he.prototype.equal=hr.prototype.equal=function(r){return Le(this,r)}};var $o=he.prototype.equal,No=hr.prototype.equal;Le.restore=function(){he.prototype.equal=$o,hr.prototype.equal=No}});var yt=l((zh,gt)=>{"use strict";function pr(e){var r=(e/8|0)+(e%8===0?0:1);return r}var Oo={ES256:pr(256),ES384:pr(384),ES512:pr(521)};function Lo(e){var r=Oo[e];if(r)return r;throw new Error('Unknown algorithm "'+e+'"')}gt.exports=Lo});var Tt=l((Qh,Rt)=>{"use strict";var qe=Z().Buffer,St=yt(),_e=128,wt=0,qo=32,_o=16,jo=2,bt=_o|qo|wt<<6,je=jo|wt<<6;function Do(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function It(e){if(qe.isBuffer(e))return e;if(typeof e=="string")return qe.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function Po(e,r){e=It(e);var t=St(r),n=t+1,s=e.length,i=0;if(e[i++]!==bt)throw new Error('Could not find expected "seq"');var o=e[i++];if(o===(_e|1)&&(o=e[i++]),s-i<o)throw new Error('"seq" specified length of "'+o+'", only "'+(s-i)+'" remaining');if(e[i++]!==je)throw new Error('Could not find expected "int" for "r"');var a=e[i++];if(s-i-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(s-i-2)+'" available');if(n<a)throw new Error('"r" specified length of "'+a+'", max of "'+n+'" is acceptable');var c=i;if(i+=a,e[i++]!==je)throw new Error('Could not find expected "int" for "s"');var f=e[i++];if(s-i!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(s-i)+'"');if(n<f)throw new Error('"s" specified length of "'+f+'", max of "'+n+'" is acceptable');var h=i;if(i+=f,i!==s)throw new Error('Expected to consume entire buffer, but "'+(s-i)+'" bytes remain');var u=t-a,y=t-f,d=qe.allocUnsafe(u+a+y+f);for(i=0;i<u;++i)d[i]=0;e.copy(d,i,c+Math.max(-u,0),c+a),i=t;for(var w=i;i<w+y;++i)d[i]=0;return e.copy(d,i,h+Math.max(-y,0),h+f),d=d.toString("base64"),d=Do(d),d}function vt(e,r,t){for(var n=0;r+n<t&&e[r+n]===0;)++n;var s=e[r+n]>=_e;return s&&--n,n}function Co(e,r){e=It(e);var t=St(r),n=e.length;if(n!==t*2)throw new TypeError('"'+r+'" signatures must be "'+t*2+'" bytes, saw "'+n+'"');var s=vt(e,0,t),i=vt(e,t,e.length),o=t-s,a=t-i,c=1+1+o+1+1+a,f=c<_e,h=qe.allocUnsafe((f?2:3)+c),u=0;return h[u++]=bt,f?h[u++]=c:(h[u++]=_e|1,h[u++]=c&255),h[u++]=je,h[u++]=o,s<0?(h[u++]=0,u+=e.copy(h,u,0,t)):u+=e.copy(h,u,s,t),h[u++]=je,h[u++]=a,i<0?(h[u++]=0,e.copy(h,u,t)):e.copy(h,u,t+i),h}Rt.exports={derToJose:Po,joseToDer:Co}});var Er=l((Zh,jt)=>{var Vo=Et(),re=Z().Buffer,D=require("crypto"),xt=Tt(),At=require("util"),Go=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,pe="secret must be a string or buffer",ee="key must be a string or a buffer",Bo="key must be a string, a buffer or an object",mr=typeof D.createPublicKey=="function";mr&&(ee+=" or a KeyObject",pe+="or a KeyObject");function $t(e){if(!re.isBuffer(e)&&typeof e!="string"&&(!mr||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw _(ee)}function Nt(e){if(!re.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw _(Bo)}function Fo(e){if(!re.isBuffer(e)){if(typeof e=="string")return e;if(!mr||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw _(pe)}}function dr(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ot(e){e=e.toString();var r=4-e.length%4;if(r!==4)for(var t=0;t<r;++t)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function _(e){var r=[].slice.call(arguments,1),t=At.format.bind(At,e).apply(null,r);return new TypeError(t)}function Uo(e){return re.isBuffer(e)||typeof e=="string"}function me(e){return Uo(e)||(e=JSON.stringify(e)),e}function Lt(e){return function(t,n){Fo(n),t=me(t);var s=D.createHmac("sha"+e,n),i=(s.update(t),s.digest("base64"));return dr(i)}}function Ko(e){return function(t,n,s){var i=Lt(e)(t,s);return Vo(re.from(n),re.from(i))}}function qt(e){return function(t,n){Nt(n),t=me(t);var s=D.createSign("RSA-SHA"+e),i=(s.update(t),s.sign(n,"base64"));return dr(i)}}function _t(e){return function(t,n,s){$t(s),t=me(t),n=Ot(n);var i=D.createVerify("RSA-SHA"+e);return i.update(t),i.verify(s,n,"base64")}}function Ho(e){return function(t,n){Nt(n),t=me(t);var s=D.createSign("RSA-SHA"+e),i=(s.update(t),s.sign({key:n,padding:D.constants.RSA_PKCS1_PSS_PADDING,saltLength:D.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return dr(i)}}function Mo(e){return function(t,n,s){$t(s),t=me(t),n=Ot(n);var i=D.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:s,padding:D.constants.RSA_PKCS1_PSS_PADDING,saltLength:D.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function Xo(e){var r=qt(e);return function(){var n=r.apply(null,arguments);return n=xt.derToJose(n,"ES"+e),n}}function ko(e){var r=_t(e);return function(n,s,i){s=xt.joseToDer(s,"ES"+e).toString("base64");var o=r(n,s,i);return o}}function Wo(){return function(){return""}}function Yo(){return function(r,t){return t===""}}jt.exports=function(r){var t={hs:Lt,rs:qt,ps:Ho,es:Xo,none:Wo},n={hs:Ko,rs:_t,ps:Mo,es:ko,none:Yo},s=r.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!s)throw _(Go,r);var i=(s[1]||s[3]).toLowerCase(),o=s[2];return{sign:t[i](o),verify:n[i](o)}}});var gr=l((ep,Dt)=>{var Jo=require("buffer").Buffer;Dt.exports=function(r){return typeof r=="string"?r:typeof r=="number"||Jo.isBuffer(r)?r.toString():JSON.stringify(r)}});var Ft=l((rp,Bt)=>{var zo=Z().Buffer,Pt=lr(),Qo=Er(),Zo=require("stream"),Ct=gr(),yr=require("util");function Vt(e,r){return zo.from(e,r).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ea(e,r,t){t=t||"utf8";var n=Vt(Ct(e),"binary"),s=Vt(Ct(r),t);return yr.format("%s.%s",n,s)}function Gt(e){var r=e.header,t=e.payload,n=e.secret||e.privateKey,s=e.encoding,i=Qo(r.alg),o=ea(r,t,s),a=i.sign(o,n);return yr.format("%s.%s",o,a)}function De(e){var r=e.secret||e.privateKey||e.key,t=new Pt(r);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new Pt(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}yr.inherits(De,Zo);De.prototype.sign=function(){try{var r=Gt({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",r),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}};De.sign=Gt;Bt.exports=De});var zt=l((tp,Jt)=>{var Kt=Z().Buffer,Ut=lr(),ra=Er(),ta=require("stream"),Ht=gr(),na=require("util"),sa=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function ia(e){return Object.prototype.toString.call(e)==="[object Object]"}function oa(e){if(ia(e))return e;try{return JSON.parse(e)}catch(r){return}}function Mt(e){var r=e.split(".",1)[0];return oa(Kt.from(r,"base64").toString("binary"))}function aa(e){return e.split(".",2).join(".")}function Xt(e){return e.split(".")[2]}function ca(e,r){r=r||"utf8";var t=e.split(".")[1];return Kt.from(t,"base64").toString(r)}function kt(e){return sa.test(e)&&!!Mt(e)}function Wt(e,r,t){if(!r){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=Ht(e);var s=Xt(e),i=aa(e),o=ra(r);return o.verify(i,s,t)}function Yt(e,r){if(r=r||{},e=Ht(e),!kt(e))return null;var t=Mt(e);if(!t)return null;var n=ca(e);return(t.typ==="JWT"||r.json)&&(n=JSON.parse(n,r.encoding)),{header:t,payload:n,signature:Xt(e)}}function te(e){e=e||{};var r=e.secret||e.publicKey||e.key,t=new Ut(r);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new Ut(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}na.inherits(te,ta);te.prototype.verify=function(){try{var r=Wt(this.signature.buffer,this.algorithm,this.key.buffer),t=Yt(this.signature.buffer,this.encoding);return this.emit("done",r,t),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};te.decode=Yt;te.isValid=kt;te.verify=Wt;Jt.exports=te});var Ce=l(F=>{var Qt=Ft(),Pe=zt(),ua=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];F.ALGORITHMS=ua;F.sign=Qt.sign;F.verify=Pe.verify;F.decode=Pe.decode;F.isValid=Pe.isValid;F.createSign=function(r){return new Qt(r)};F.createVerify=function(r){return new Pe(r)}});var vr=l((sp,Zt)=>{var fa=Ce();Zt.exports=function(e,r){r=r||{};var t=fa.decode(e,r);if(!t)return null;var n=t.payload;if(typeof n=="string")try{var s=JSON.parse(n);s!==null&&typeof s=="object"&&(n=s)}catch(i){}return r.complete===!0?{header:t.header,payload:n,signature:t.signature}:n}});var de=l((ip,en)=>{var Ve=function(e,r){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,r&&(this.inner=r)};Ve.prototype=Object.create(Error.prototype);Ve.prototype.constructor=Ve;en.exports=Ve});var Sr=l((op,tn)=>{var rn=de(),Ge=function(e,r){rn.call(this,e),this.name="NotBeforeError",this.date=r};Ge.prototype=Object.create(rn.prototype);Ge.prototype.constructor=Ge;tn.exports=Ge});var wr=l((ap,sn)=>{var nn=de(),Be=function(e,r){nn.call(this,e),this.name="TokenExpiredError",this.expiredAt=r};Be.prototype=Object.create(nn.prototype);Be.prototype.constructor=Be;sn.exports=Be});var an=l((cp,on)=>{var ne=1e3,se=ne*60,ie=se*60,K=ie*24,la=K*7,ha=K*365.25;on.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return pa(e);if(t==="number"&&isFinite(e))return r.long?da(e):ma(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function pa(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*ha;case"weeks":case"week":case"w":return t*la;case"days":case"day":case"d":return t*K;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ie;case"minutes":case"minute":case"mins":case"min":case"m":return t*se;case"seconds":case"second":case"secs":case"sec":case"s":return t*ne;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function ma(e){var r=Math.abs(e);return r>=K?Math.round(e/K)+"d":r>=ie?Math.round(e/ie)+"h":r>=se?Math.round(e/se)+"m":r>=ne?Math.round(e/ne)+"s":e+"ms"}function da(e){var r=Math.abs(e);return r>=K?Fe(e,r,K,"day"):r>=ie?Fe(e,r,ie,"hour"):r>=se?Fe(e,r,se,"minute"):r>=ne?Fe(e,r,ne,"second"):e+" ms"}function Fe(e,r,t,n){var s=r>=t*1.5;return Math.round(e/t)+" "+n+(s?"s":"")}});var br=l((up,cn)=>{var Ea=an();cn.exports=function(e,r){var t=r||Math.floor(Date.now()/1e3);if(typeof e=="string"){var n=Ea(e);return typeof n=="undefined"?void 0:Math.floor(t+n/1e3)}else return typeof e=="number"?t+e:void 0}});var Ee=l((fp,un)=>{var ga="2.0.0",ya=Number.MAX_SAFE_INTEGER||9007199254740991,va=16,Sa=256-6,wa=["major","premajor","minor","preminor","patch","prepatch","prerelease"];un.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:va,MAX_SAFE_BUILD_LENGTH:Sa,MAX_SAFE_INTEGER:ya,RELEASE_TYPES:wa,SEMVER_SPEC_VERSION:ga,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ge=l((lp,fn)=>{var ba=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};fn.exports=ba});var oe=l((V,ln)=>{var{MAX_SAFE_COMPONENT_LENGTH:Ir,MAX_SAFE_BUILD_LENGTH:Ia,MAX_LENGTH:Ra}=Ee(),Ta=ge();V=ln.exports={};var Aa=V.re=[],xa=V.safeRe=[],p=V.src=[],m=V.t={},$a=0,Rr="[a-zA-Z0-9-]",Na=[["\\s",1],["\\d",Ra],[Rr,Ia]],Oa=e=>{for(let[r,t]of Na)e=e.split(`${r}*`).join(`${r}{0,${t}}`).split(`${r}+`).join(`${r}{1,${t}}`);return e},E=(e,r,t)=>{let n=Oa(r),s=$a++;Ta(e,s,r),m[e]=s,p[s]=r,Aa[s]=new RegExp(r,t?"g":void 0),xa[s]=new RegExp(n,t?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","\\d+");E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Rr}*`);E("MAINVERSION",`(${p[m.NUMERICIDENTIFIER]})\\.(${p[m.NUMERICIDENTIFIER]})\\.(${p[m.NUMERICIDENTIFIER]})`);E("MAINVERSIONLOOSE",`(${p[m.NUMERICIDENTIFIERLOOSE]})\\.(${p[m.NUMERICIDENTIFIERLOOSE]})\\.(${p[m.NUMERICIDENTIFIERLOOSE]})`);E("PRERELEASEIDENTIFIER",`(?:${p[m.NUMERICIDENTIFIER]}|${p[m.NONNUMERICIDENTIFIER]})`);E("PRERELEASEIDENTIFIERLOOSE",`(?:${p[m.NUMERICIDENTIFIERLOOSE]}|${p[m.NONNUMERICIDENTIFIER]})`);E("PRERELEASE",`(?:-(${p[m.PRERELEASEIDENTIFIER]}(?:\\.${p[m.PRERELEASEIDENTIFIER]})*))`);E("PRERELEASELOOSE",`(?:-?(${p[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[m.PRERELEASEIDENTIFIERLOOSE]})*))`);E("BUILDIDENTIFIER",`${Rr}+`);E("BUILD",`(?:\\+(${p[m.BUILDIDENTIFIER]}(?:\\.${p[m.BUILDIDENTIFIER]})*))`);E("FULLPLAIN",`v?${p[m.MAINVERSION]}${p[m.PRERELEASE]}?${p[m.BUILD]}?`);E("FULL",`^${p[m.FULLPLAIN]}$`);E("LOOSEPLAIN",`[v=\\s]*${p[m.MAINVERSIONLOOSE]}${p[m.PRERELEASELOOSE]}?${p[m.BUILD]}?`);E("LOOSE",`^${p[m.LOOSEPLAIN]}$`);E("GTLT","((?:<|>)?=?)");E("XRANGEIDENTIFIERLOOSE",`${p[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);E("XRANGEIDENTIFIER",`${p[m.NUMERICIDENTIFIER]}|x|X|\\*`);E("XRANGEPLAIN",`[v=\\s]*(${p[m.XRANGEIDENTIFIER]})(?:\\.(${p[m.XRANGEIDENTIFIER]})(?:\\.(${p[m.XRANGEIDENTIFIER]})(?:${p[m.PRERELEASE]})?${p[m.BUILD]}?)?)?`);E("XRANGEPLAINLOOSE",`[v=\\s]*(${p[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[m.XRANGEIDENTIFIERLOOSE]})(?:${p[m.PRERELEASELOOSE]})?${p[m.BUILD]}?)?)?`);E("XRANGE",`^${p[m.GTLT]}\\s*${p[m.XRANGEPLAIN]}$`);E("XRANGELOOSE",`^${p[m.GTLT]}\\s*${p[m.XRANGEPLAINLOOSE]}$`);E("COERCE",`(^|[^\\d])(\\d{1,${Ir}})(?:\\.(\\d{1,${Ir}}))?(?:\\.(\\d{1,${Ir}}))?(?:$|[^\\d])`);E("COERCERTL",p[m.COERCE],!0);E("LONETILDE","(?:~>?)");E("TILDETRIM",`(\\s*)${p[m.LONETILDE]}\\s+`,!0);V.tildeTrimReplace="$1~";E("TILDE",`^${p[m.LONETILDE]}${p[m.XRANGEPLAIN]}$`);E("TILDELOOSE",`^${p[m.LONETILDE]}${p[m.XRANGEPLAINLOOSE]}$`);E("LONECARET","(?:\\^)");E("CARETTRIM",`(\\s*)${p[m.LONECARET]}\\s+`,!0);V.caretTrimReplace="$1^";E("CARET",`^${p[m.LONECARET]}${p[m.XRANGEPLAIN]}$`);E("CARETLOOSE",`^${p[m.LONECARET]}${p[m.XRANGEPLAINLOOSE]}$`);E("COMPARATORLOOSE",`^${p[m.GTLT]}\\s*(${p[m.LOOSEPLAIN]})$|^$`);E("COMPARATOR",`^${p[m.GTLT]}\\s*(${p[m.FULLPLAIN]})$|^$`);E("COMPARATORTRIM",`(\\s*)${p[m.GTLT]}\\s*(${p[m.LOOSEPLAIN]}|${p[m.XRANGEPLAIN]})`,!0);V.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE",`^\\s*(${p[m.XRANGEPLAIN]})\\s+-\\s+(${p[m.XRANGEPLAIN]})\\s*$`);E("HYPHENRANGELOOSE",`^\\s*(${p[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[m.XRANGEPLAINLOOSE]})\\s*$`);E("STAR","(<|>)?=?\\s*\\*");E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ue=l((hp,hn)=>{var La=Object.freeze({loose:!0}),qa=Object.freeze({}),_a=e=>e?typeof e!="object"?La:e:qa;hn.exports=_a});var Tr=l((pp,dn)=>{var pn=/^[0-9]+$/,mn=(e,r)=>{let t=pn.test(e),n=pn.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1},ja=(e,r)=>mn(r,e);dn.exports={compareIdentifiers:mn,rcompareIdentifiers:ja}});var T=l((mp,vn)=>{var Ke=ge(),{MAX_LENGTH:En,MAX_SAFE_INTEGER:He}=Ee(),{safeRe:gn,t:yn}=oe(),Da=Ue(),{compareIdentifiers:ae}=Tr(),Ar=class e{constructor(r,t){if(t=Da(t),r instanceof e){if(r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>En)throw new TypeError(`version is longer than ${En} characters`);Ke("SemVer",r,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=r.trim().match(t.loose?gn[yn.LOOSE]:gn[yn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>He||this.major<0)throw new TypeError("Invalid major version");if(this.minor>He||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>He||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<He)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(Ke("SemVer.compare",this.version,this.options,r),!(r instanceof e)){if(typeof r=="string"&&r===this.version)return 0;r=new e(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof e||(r=new e(r,this.options)),ae(this.major,r.major)||ae(this.minor,r.minor)||ae(this.patch,r.patch)}comparePre(r){if(r instanceof e||(r=new e(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=r.prerelease[t];if(Ke("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ae(n,s)}while(++t)}compareBuild(r){r instanceof e||(r=new e(r,this.options));let t=0;do{let n=this.build[t],s=r.build[t];if(Ke("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ae(n,s)}while(++t)}inc(r,t,n){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),ae(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};vn.exports=Ar});var H=l((dp,wn)=>{var Sn=T(),Pa=(e,r,t=!1)=>{if(e instanceof Sn)return e;try{return new Sn(e,r)}catch(n){if(!t)return null;throw n}};wn.exports=Pa});var In=l((Ep,bn)=>{var Ca=H(),Va=(e,r)=>{let t=Ca(e,r);return t?t.version:null};bn.exports=Va});var Tn=l((gp,Rn)=>{var Ga=H(),Ba=(e,r)=>{let t=Ga(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null};Rn.exports=Ba});var $n=l((yp,xn)=>{var An=T(),Fa=(e,r,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new An(e instanceof An?e.version:e,t).inc(r,n,s).version}catch(i){return null}};xn.exports=Fa});var Ln=l((vp,On)=>{var Nn=H(),Ua=(e,r)=>{let t=Nn(e,null,!0),n=Nn(r,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let h=c?"pre":"";return t.major!==n.major?h+"major":t.minor!==n.minor?h+"minor":t.patch!==n.patch?h+"patch":"prerelease"};On.exports=Ua});var _n=l((Sp,qn)=>{var Ka=T(),Ha=(e,r)=>new Ka(e,r).major;qn.exports=Ha});var Dn=l((wp,jn)=>{var Ma=T(),Xa=(e,r)=>new Ma(e,r).minor;jn.exports=Xa});var Cn=l((bp,Pn)=>{var ka=T(),Wa=(e,r)=>new ka(e,r).patch;Pn.exports=Wa});var Gn=l((Ip,Vn)=>{var Ya=H(),Ja=(e,r)=>{let t=Ya(e,r);return t&&t.prerelease.length?t.prerelease:null};Vn.exports=Ja});var L=l((Rp,Fn)=>{var Bn=T(),za=(e,r,t)=>new Bn(e,t).compare(new Bn(r,t));Fn.exports=za});var Kn=l((Tp,Un)=>{var Qa=L(),Za=(e,r,t)=>Qa(r,e,t);Un.exports=Za});var Mn=l((Ap,Hn)=>{var ec=L(),rc=(e,r)=>ec(e,r,!0);Hn.exports=rc});var Me=l((xp,kn)=>{var Xn=T(),tc=(e,r,t)=>{let n=new Xn(e,t),s=new Xn(r,t);return n.compare(s)||n.compareBuild(s)};kn.exports=tc});var Yn=l(($p,Wn)=>{var nc=Me(),sc=(e,r)=>e.sort((t,n)=>nc(t,n,r));Wn.exports=sc});var zn=l((Np,Jn)=>{var ic=Me(),oc=(e,r)=>e.sort((t,n)=>ic(n,t,r));Jn.exports=oc});var ye=l((Op,Qn)=>{var ac=L(),cc=(e,r,t)=>ac(e,r,t)>0;Qn.exports=cc});var Xe=l((Lp,Zn)=>{var uc=L(),fc=(e,r,t)=>uc(e,r,t)<0;Zn.exports=fc});var xr=l((qp,es)=>{var lc=L(),hc=(e,r,t)=>lc(e,r,t)===0;es.exports=hc});var $r=l((_p,rs)=>{var pc=L(),mc=(e,r,t)=>pc(e,r,t)!==0;rs.exports=mc});var ke=l((jp,ts)=>{var dc=L(),Ec=(e,r,t)=>dc(e,r,t)>=0;ts.exports=Ec});var We=l((Dp,ns)=>{var gc=L(),yc=(e,r,t)=>gc(e,r,t)<=0;ns.exports=yc});var Nr=l((Pp,ss)=>{var vc=xr(),Sc=$r(),wc=ye(),bc=ke(),Ic=Xe(),Rc=We(),Tc=(e,r,t,n)=>{switch(r){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return vc(e,t,n);case"!=":return Sc(e,t,n);case">":return wc(e,t,n);case">=":return bc(e,t,n);case"<":return Ic(e,t,n);case"<=":return Rc(e,t,n);default:throw new TypeError(`Invalid operator: ${r}`)}};ss.exports=Tc});var os=l((Cp,is)=>{var Ac=T(),xc=H(),{safeRe:Ye,t:Je}=oe(),$c=(e,r)=>{if(e instanceof Ac)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;r=r||{};let t=null;if(!r.rtl)t=e.match(Ye[Je.COERCE]);else{let n;for(;(n=Ye[Je.COERCERTL].exec(e))&&(!t||t.index+t[0].length!==e.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Ye[Je.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ye[Je.COERCERTL].lastIndex=-1}return t===null?null:xc(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,r)};is.exports=$c});var cs=l((Vp,as)=>{"use strict";as.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}});var fs=l((Gp,us)=>{"use strict";us.exports=g;g.Node=M;g.create=g;function g(e){var r=this;if(r instanceof g||(r=new g),r.tail=null,r.head=null,r.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){r.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)r.push(arguments[t]);return r}g.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var r=e.next,t=e.prev;return r&&(r.prev=t),t&&(t.next=r),e===this.head&&(this.head=r),e===this.tail&&(this.tail=t),e.list.length--,e.next=null,e.prev=null,e.list=null,r};g.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var r=this.head;e.list=this,e.next=r,r&&(r.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};g.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var r=this.tail;e.list=this,e.prev=r,r&&(r.next=e),this.tail=e,this.head||(this.head=e),this.length++}};g.prototype.push=function(){for(var e=0,r=arguments.length;e<r;e++)Oc(this,arguments[e]);return this.length};g.prototype.unshift=function(){for(var e=0,r=arguments.length;e<r;e++)Lc(this,arguments[e]);return this.length};g.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};g.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};g.prototype.forEach=function(e,r){r=r||this;for(var t=this.head,n=0;t!==null;n++)e.call(r,t.value,n,this),t=t.next};g.prototype.forEachReverse=function(e,r){r=r||this;for(var t=this.tail,n=this.length-1;t!==null;n--)e.call(r,t.value,n,this),t=t.prev};g.prototype.get=function(e){for(var r=0,t=this.head;t!==null&&r<e;r++)t=t.next;if(r===e&&t!==null)return t.value};g.prototype.getReverse=function(e){for(var r=0,t=this.tail;t!==null&&r<e;r++)t=t.prev;if(r===e&&t!==null)return t.value};g.prototype.map=function(e,r){r=r||this;for(var t=new g,n=this.head;n!==null;)t.push(e.call(r,n.value,this)),n=n.next;return t};g.prototype.mapReverse=function(e,r){r=r||this;for(var t=new g,n=this.tail;n!==null;)t.push(e.call(r,n.value,this)),n=n.prev;return t};g.prototype.reduce=function(e,r){var t,n=this.head;if(arguments.length>1)t=r;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=e(t,n.value,s),n=n.next;return t};g.prototype.reduceReverse=function(e,r){var t,n=this.tail;if(arguments.length>1)t=r;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=e(t,n.value,s),n=n.prev;return t};g.prototype.toArray=function(){for(var e=new Array(this.length),r=0,t=this.head;t!==null;r++)e[r]=t.value,t=t.next;return e};g.prototype.toArrayReverse=function(){for(var e=new Array(this.length),r=0,t=this.tail;t!==null;r++)e[r]=t.value,t=t.prev;return e};g.prototype.slice=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new g;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<r;n++,s=s.next)t.push(s.value);return t};g.prototype.sliceReverse=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new g;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=this.length,s=this.tail;s!==null&&n>r;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)t.push(s.value);return t};g.prototype.splice=function(e,r,...t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var i=[],n=0;s&&n<r;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=Nc(this,s,t[n]);return i};g.prototype.reverse=function(){for(var e=this.head,r=this.tail,t=e;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=r,this.tail=e,this};function Nc(e,r,t){var n=r===e.head?new M(t,null,r,e):new M(t,r,r.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Oc(e,r){e.tail=new M(r,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Lc(e,r){e.head=new M(r,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function M(e,r,t,n){if(!(this instanceof M))return new M(e,r,t,n);this.list=n,this.value=e,r?(r.next=this,this.prev=r):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{cs()(g)}catch(e){}});var ds=l((Bp,ms)=>{"use strict";var qc=fs(),X=Symbol("max"),B=Symbol("length"),ce=Symbol("lengthCalculator"),Se=Symbol("allowStale"),k=Symbol("maxAge"),G=Symbol("dispose"),ls=Symbol("noDisposeOnSet"),I=Symbol("lruList"),j=Symbol("cache"),ps=Symbol("updateAgeOnGet"),Or=()=>1,qr=class{constructor(r){if(typeof r=="number"&&(r={max:r}),r||(r={}),r.max&&(typeof r.max!="number"||r.max<0))throw new TypeError("max must be a non-negative number");let t=this[X]=r.max||1/0,n=r.length||Or;if(this[ce]=typeof n!="function"?Or:n,this[Se]=r.stale||!1,r.maxAge&&typeof r.maxAge!="number")throw new TypeError("maxAge must be a number");this[k]=r.maxAge||0,this[G]=r.dispose,this[ls]=r.noDisposeOnSet||!1,this[ps]=r.updateAgeOnGet||!1,this.reset()}set max(r){if(typeof r!="number"||r<0)throw new TypeError("max must be a non-negative number");this[X]=r||1/0,ve(this)}get max(){return this[X]}set allowStale(r){this[Se]=!!r}get allowStale(){return this[Se]}set maxAge(r){if(typeof r!="number")throw new TypeError("maxAge must be a non-negative number");this[k]=r,ve(this)}get maxAge(){return this[k]}set lengthCalculator(r){typeof r!="function"&&(r=Or),r!==this[ce]&&(this[ce]=r,this[B]=0,this[I].forEach(t=>{t.length=this[ce](t.value,t.key),this[B]+=t.length})),ve(this)}get lengthCalculator(){return this[ce]}get length(){return this[B]}get itemCount(){return this[I].length}rforEach(r,t){t=t||this;for(let n=this[I].tail;n!==null;){let s=n.prev;hs(this,r,n,t),n=s}}forEach(r,t){t=t||this;for(let n=this[I].head;n!==null;){let s=n.next;hs(this,r,n,t),n=s}}keys(){return this[I].toArray().map(r=>r.key)}values(){return this[I].toArray().map(r=>r.value)}reset(){this[G]&&this[I]&&this[I].length&&this[I].forEach(r=>this[G](r.key,r.value)),this[j]=new Map,this[I]=new qc,this[B]=0}dump(){return this[I].map(r=>ze(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[I]}set(r,t,n){if(n=n||this[k],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[ce](t,r);if(this[j].has(r)){if(i>this[X])return ue(this,this[j].get(r)),!1;let c=this[j].get(r).value;return this[G]&&(this[ls]||this[G](r,c.value)),c.now=s,c.maxAge=n,c.value=t,this[B]+=i-c.length,c.length=i,this.get(r),ve(this),!0}let o=new _r(r,t,i,s,n);return o.length>this[X]?(this[G]&&this[G](r,t),!1):(this[B]+=o.length,this[I].unshift(o),this[j].set(r,this[I].head),ve(this),!0)}has(r){if(!this[j].has(r))return!1;let t=this[j].get(r).value;return!ze(this,t)}get(r){return Lr(this,r,!0)}peek(r){return Lr(this,r,!1)}pop(){let r=this[I].tail;return r?(ue(this,r),r.value):null}del(r){ue(this,this[j].get(r))}load(r){this.reset();let t=Date.now();for(let n=r.length-1;n>=0;n--){let s=r[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[j].forEach((r,t)=>Lr(this,t,!1))}},Lr=(e,r,t)=>{let n=e[j].get(r);if(n){let s=n.value;if(ze(e,s)){if(ue(e,n),!e[Se])return}else t&&(e[ps]&&(n.value.now=Date.now()),e[I].unshiftNode(n));return s.value}},ze=(e,r)=>{if(!r||!r.maxAge&&!e[k])return!1;let t=Date.now()-r.now;return r.maxAge?t>r.maxAge:e[k]&&t>e[k]},ve=e=>{if(e[B]>e[X])for(let r=e[I].tail;e[B]>e[X]&&r!==null;){let t=r.prev;ue(e,r),r=t}},ue=(e,r)=>{if(r){let t=r.value;e[G]&&e[G](t.key,t.value),e[B]-=t.length,e[j].delete(t.key),e[I].removeNode(r)}},_r=class{constructor(r,t,n,s,i){this.key=r,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},hs=(e,r,t,n)=>{let s=t.value;ze(e,s)&&(ue(e,t),e[Se]||(s=void 0)),s&&r.call(n,s.value,s.key,e)};ms.exports=qr});var q=l((Fp,vs)=>{var jr=class e{constructor(r,t){if(t=jc(t),r instanceof e)return r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease?r:new e(r.raw,t);if(r instanceof Dr)return this.raw=r.value,this.set=[[r]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!gs(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Fc(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(r=>r.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(r){let n=((this.options.includePrerelease&&Gc)|(this.options.loose&&Bc))+":"+r,s=Es.get(n);if(s)return s;let i=this.options.loose,o=i?N[A.HYPHENRANGELOOSE]:N[A.HYPHENRANGE];r=r.replace(o,zc(this.options.includePrerelease)),S("hyphen replace",r),r=r.replace(N[A.COMPARATORTRIM],Pc),S("comparator trim",r),r=r.replace(N[A.TILDETRIM],Cc),S("tilde trim",r),r=r.replace(N[A.CARETTRIM],Vc),S("caret trim",r);let a=r.split(" ").map(u=>Uc(u,this.options)).join(" ").split(/\s+/).map(u=>Jc(u,this.options));i&&(a=a.filter(u=>(S("loose invalid filter",u,this.options),!!u.match(N[A.COMPARATORLOOSE])))),S("range list",a);let c=new Map,f=a.map(u=>new Dr(u,this.options));for(let u of f){if(gs(u))return[u];c.set(u.value,u)}c.size>1&&c.has("")&&c.delete("");let h=[...c.values()];return Es.set(n,h),h}intersects(r,t){if(!(r instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>ys(n,t)&&r.set.some(s=>ys(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(r){if(!r)return!1;if(typeof r=="string")try{r=new Dc(r,this.options)}catch(t){return!1}for(let t=0;t<this.set.length;t++)if(Qc(this.set[t],r,this.options))return!0;return!1}};vs.exports=jr;var _c=ds(),Es=new _c({max:1e3}),jc=Ue(),Dr=we(),S=ge(),Dc=T(),{safeRe:N,t:A,comparatorTrimReplace:Pc,tildeTrimReplace:Cc,caretTrimReplace:Vc}=oe(),{FLAG_INCLUDE_PRERELEASE:Gc,FLAG_LOOSE:Bc}=Ee(),gs=e=>e.value==="<0.0.0-0",Fc=e=>e.value==="",ys=(e,r)=>{let t=!0,n=e.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,r)),s=n.pop();return t},Uc=(e,r)=>(S("comp",e,r),e=Mc(e,r),S("caret",e),e=Kc(e,r),S("tildes",e),e=kc(e,r),S("xrange",e),e=Yc(e,r),S("stars",e),e),x=e=>!e||e.toLowerCase()==="x"||e==="*",Kc=(e,r)=>e.trim().split(/\s+/).map(t=>Hc(t,r)).join(" "),Hc=(e,r)=>{let t=r.loose?N[A.TILDELOOSE]:N[A.TILDE];return e.replace(t,(n,s,i,o,a)=>{S("tilde",e,n,s,i,o,a);let c;return x(s)?c="":x(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:x(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(S("replaceTilde pr",a),c=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,S("tilde return",c),c})},Mc=(e,r)=>e.trim().split(/\s+/).map(t=>Xc(t,r)).join(" "),Xc=(e,r)=>{S("caret",e,r);let t=r.loose?N[A.CARETLOOSE]:N[A.CARET],n=r.includePrerelease?"-0":"";return e.replace(t,(s,i,o,a,c)=>{S("caret",e,s,i,o,a,c);let f;return x(i)?f="":x(o)?f=`>=${i}.0.0${n} <${+i+1}.0.0-0`:x(a)?i==="0"?f=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:f=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:c?(S("replaceCaret pr",c),i==="0"?o==="0"?f=`>=${i}.${o}.${a}-${c} <${i}.${o}.${+a+1}-0`:f=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`:f=`>=${i}.${o}.${a}-${c} <${+i+1}.0.0-0`):(S("no pr"),i==="0"?o==="0"?f=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:f=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:f=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),S("caret return",f),f})},kc=(e,r)=>(S("replaceXRanges",e,r),e.split(/\s+/).map(t=>Wc(t,r)).join(" ")),Wc=(e,r)=>{e=e.trim();let t=r.loose?N[A.XRANGELOOSE]:N[A.XRANGE];return e.replace(t,(n,s,i,o,a,c)=>{S("xRange",e,n,s,i,o,a,c);let f=x(i),h=f||x(o),u=h||x(a),y=u;return s==="="&&y&&(s=""),c=r.includePrerelease?"-0":"",f?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&y?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(c="-0"),n=`${s+i}.${o}.${a}${c}`):h?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:u&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),S("xRange return",n),n})},Yc=(e,r)=>(S("replaceStars",e,r),e.trim().replace(N[A.STAR],"")),Jc=(e,r)=>(S("replaceGTE0",e,r),e.trim().replace(N[r.includePrerelease?A.GTE0PRE:A.GTE0],"")),zc=e=>(r,t,n,s,i,o,a,c,f,h,u,y,d)=>(x(n)?t="":x(s)?t=`>=${n}.0.0${e?"-0":""}`:x(i)?t=`>=${n}.${s}.0${e?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${e?"-0":""}`,x(f)?c="":x(h)?c=`<${+f+1}.0.0-0`:x(u)?c=`<${f}.${+h+1}.0-0`:y?c=`<=${f}.${h}.${u}-${y}`:e?c=`<${f}.${h}.${+u+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),Qc=(e,r,t)=>{for(let n=0;n<e.length;n++)if(!e[n].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let n=0;n<e.length;n++)if(S(e[n].semver),e[n].semver!==Dr.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0}});var we=l((Up,Ts)=>{var be=Symbol("SemVer ANY"),Vr=class e{static get ANY(){return be}constructor(r,t){if(t=Ss(t),r instanceof e){if(r.loose===!!t.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),Cr("comparator",r,t),this.options=t,this.loose=!!t.loose,this.parse(r),this.semver===be?this.value="":this.value=this.operator+this.semver.version,Cr("comp",this)}parse(r){let t=this.options.loose?ws[bs.COMPARATORLOOSE]:ws[bs.COMPARATOR],n=r.match(t);if(!n)throw new TypeError(`Invalid comparator: ${r}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Is(n[2],this.options.loose):this.semver=be}toString(){return this.value}test(r){if(Cr("Comparator.test",r,this.options.loose),this.semver===be||r===be)return!0;if(typeof r=="string")try{r=new Is(r,this.options)}catch(t){return!1}return Pr(r,this.operator,this.semver,this.options)}intersects(r,t){if(!(r instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Rs(r.value,t).test(this.value):r.operator===""?r.value===""?!0:new Rs(this.value,t).test(r.semver):(t=Ss(t),t.includePrerelease&&(this.value==="<0.0.0-0"||r.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||r.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&r.operator.startsWith(">")||this.operator.startsWith("<")&&r.operator.startsWith("<")||this.semver.version===r.semver.version&&this.operator.includes("=")&&r.operator.includes("=")||Pr(this.semver,"<",r.semver,t)&&this.operator.startsWith(">")&&r.operator.startsWith("<")||Pr(this.semver,">",r.semver,t)&&this.operator.startsWith("<")&&r.operator.startsWith(">")))}};Ts.exports=Vr;var Ss=Ue(),{safeRe:ws,t:bs}=oe(),Pr=Nr(),Cr=ge(),Is=T(),Rs=q()});var Ie=l((Kp,As)=>{var Zc=q(),eu=(e,r,t)=>{try{r=new Zc(r,t)}catch(n){return!1}return r.test(e)};As.exports=eu});var $s=l((Hp,xs)=>{var ru=q(),tu=(e,r)=>new ru(e,r).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));xs.exports=tu});var Os=l((Mp,Ns)=>{var nu=T(),su=q(),iu=(e,r,t)=>{let n=null,s=null,i=null;try{i=new su(r,t)}catch(o){return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new nu(n,t))}),n};Ns.exports=iu});var qs=l((Xp,Ls)=>{var ou=T(),au=q(),cu=(e,r,t)=>{let n=null,s=null,i=null;try{i=new au(r,t)}catch(o){return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new ou(n,t))}),n};Ls.exports=cu});var Ds=l((kp,js)=>{var Gr=T(),uu=q(),_s=ye(),fu=(e,r)=>{e=new uu(e,r);let t=new Gr("0.0.0");if(e.test(t)||(t=new Gr("0.0.0-0"),e.test(t)))return t;t=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],i=null;s.forEach(o=>{let a=new Gr(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||_s(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||_s(t,i))&&(t=i)}return t&&e.test(t)?t:null};js.exports=fu});var Cs=l((Wp,Ps)=>{var lu=q(),hu=(e,r)=>{try{return new lu(e,r).range||"*"}catch(t){return null}};Ps.exports=hu});var Qe=l((Yp,Fs)=>{var pu=T(),Bs=we(),{ANY:mu}=Bs,du=q(),Eu=Ie(),Vs=ye(),Gs=Xe(),gu=We(),yu=ke(),vu=(e,r,t,n)=>{e=new pu(e,n),r=new du(r,n);let s,i,o,a,c;switch(t){case">":s=Vs,i=gu,o=Gs,a=">",c=">=";break;case"<":s=Gs,i=yu,o=Vs,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Eu(e,r,n))return!1;for(let f=0;f<r.set.length;++f){let h=r.set[f],u=null,y=null;if(h.forEach(d=>{d.semver===mu&&(d=new Bs(">=0.0.0")),u=u||d,y=y||d,s(d.semver,u.semver,n)?u=d:o(d.semver,y.semver,n)&&(y=d)}),u.operator===a||u.operator===c||(!y.operator||y.operator===a)&&i(e,y.semver))return!1;if(y.operator===c&&o(e,y.semver))return!1}return!0};Fs.exports=vu});var Ks=l((Jp,Us)=>{var Su=Qe(),wu=(e,r,t)=>Su(e,r,">",t);Us.exports=wu});var Ms=l((zp,Hs)=>{var bu=Qe(),Iu=(e,r,t)=>bu(e,r,"<",t);Hs.exports=Iu});var Ws=l((Qp,ks)=>{var Xs=q(),Ru=(e,r,t)=>(e=new Xs(e,t),r=new Xs(r,t),e.intersects(r,t));ks.exports=Ru});var Js=l((Zp,Ys)=>{var Tu=Ie(),Au=L();Ys.exports=(e,r,t)=>{let n=[],s=null,i=null,o=e.sort((h,u)=>Au(h,u,t));for(let h of o)Tu(h,r,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,u]of n)h===u?a.push(h):!u&&h===o[0]?a.push("*"):u?h===o[0]?a.push(`<=${u}`):a.push(`${h} - ${u}`):a.push(`>=${h}`);let c=a.join(" || "),f=typeof r.raw=="string"?r.raw:String(r);return c.length<f.length?c:r}});var ti=l((em,ri)=>{var zs=q(),Fr=we(),{ANY:Br}=Fr,Re=Ie(),Ur=L(),xu=(e,r,t={})=>{if(e===r)return!0;e=new zs(e,t),r=new zs(r,t);let n=!1;e:for(let s of e.set){for(let i of r.set){let o=Nu(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},$u=[new Fr(">=0.0.0-0")],Qs=[new Fr(">=0.0.0")],Nu=(e,r,t)=>{if(e===r)return!0;if(e.length===1&&e[0].semver===Br){if(r.length===1&&r[0].semver===Br)return!0;t.includePrerelease?e=$u:e=Qs}if(r.length===1&&r[0].semver===Br){if(t.includePrerelease)return!0;r=Qs}let n=new Set,s,i;for(let d of e)d.operator===">"||d.operator===">="?s=Zs(s,d,t):d.operator==="<"||d.operator==="<="?i=ei(i,d,t):n.add(d.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Ur(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let d of n){if(s&&!Re(d,String(s),t)||i&&!Re(d,String(i),t))return null;for(let w of r)if(!Re(d,String(w),t))return!1;return!0}let a,c,f,h,u=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,y=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;u&&u.prerelease.length===1&&i.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let d of r){if(h=h||d.operator===">"||d.operator===">=",f=f||d.operator==="<"||d.operator==="<=",s){if(y&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===y.major&&d.semver.minor===y.minor&&d.semver.patch===y.patch&&(y=!1),d.operator===">"||d.operator===">="){if(a=Zs(s,d,t),a===d&&a!==s)return!1}else if(s.operator===">="&&!Re(s.semver,String(d),t))return!1}if(i){if(u&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===u.major&&d.semver.minor===u.minor&&d.semver.patch===u.patch&&(u=!1),d.operator==="<"||d.operator==="<="){if(c=ei(i,d,t),c===d&&c!==i)return!1}else if(i.operator==="<="&&!Re(i.semver,String(d),t))return!1}if(!d.operator&&(i||s)&&o!==0)return!1}return!(s&&f&&!i&&o!==0||i&&h&&!s&&o!==0||y||u)},Zs=(e,r,t)=>{if(!e)return r;let n=Ur(e.semver,r.semver,t);return n>0?e:n<0||r.operator===">"&&e.operator===">="?r:e},ei=(e,r,t)=>{if(!e)return r;let n=Ur(e.semver,r.semver,t);return n<0?e:n>0||r.operator==="<"&&e.operator==="<="?r:e};ri.exports=xu});var Ze=l((rm,ii)=>{var Kr=oe(),ni=Ee(),Ou=T(),si=Tr(),Lu=H(),qu=In(),_u=Tn(),ju=$n(),Du=Ln(),Pu=_n(),Cu=Dn(),Vu=Cn(),Gu=Gn(),Bu=L(),Fu=Kn(),Uu=Mn(),Ku=Me(),Hu=Yn(),Mu=zn(),Xu=ye(),ku=Xe(),Wu=xr(),Yu=$r(),Ju=ke(),zu=We(),Qu=Nr(),Zu=os(),ef=we(),rf=q(),tf=Ie(),nf=$s(),sf=Os(),of=qs(),af=Ds(),cf=Cs(),uf=Qe(),ff=Ks(),lf=Ms(),hf=Ws(),pf=Js(),mf=ti();ii.exports={parse:Lu,valid:qu,clean:_u,inc:ju,diff:Du,major:Pu,minor:Cu,patch:Vu,prerelease:Gu,compare:Bu,rcompare:Fu,compareLoose:Uu,compareBuild:Ku,sort:Hu,rsort:Mu,gt:Xu,lt:ku,eq:Wu,neq:Yu,gte:Ju,lte:zu,cmp:Qu,coerce:Zu,Comparator:ef,Range:rf,satisfies:tf,toComparators:nf,maxSatisfying:sf,minSatisfying:of,minVersion:af,validRange:cf,outside:uf,gtr:ff,ltr:lf,intersects:hf,simplifyRange:pf,subset:mf,SemVer:Ou,re:Kr.re,src:Kr.src,tokens:Kr.t,SEMVER_SPEC_VERSION:ni.SEMVER_SPEC_VERSION,RELEASE_TYPES:ni.RELEASE_TYPES,compareIdentifiers:si.compareIdentifiers,rcompareIdentifiers:si.rcompareIdentifiers}});var ai=l((tm,oi)=>{var df=Ze();oi.exports=df.satisfies(process.version,">=15.7.0")});var ui=l((nm,ci)=>{var Ef=Ze();ci.exports=Ef.satisfies(process.version,">=16.9.0")});var Hr=l((sm,fi)=>{var gf=ai(),yf=ui(),vf={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},Sf={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};fi.exports=function(e,r){if(!e||!r)return;let t=r.asymmetricKeyType;if(!t)return;let n=vf[t];if(!n)throw new Error(`Unknown key type "${t}".`);if(!n.includes(e))throw new Error(`"alg" parameter for "${t}" key type must be one of: ${n.join(", ")}.`);if(gf)switch(t){case"ec":let s=r.asymmetricKeyDetails.namedCurve,i=Sf[e];if(s!==i)throw new Error(`"alg" parameter "${e}" requires curve "${i}".`);break;case"rsa-pss":if(yf){let o=parseInt(e.slice(-3),10),{hashAlgorithm:a,mgf1HashAlgorithm:c,saltLength:f}=r.asymmetricKeyDetails;if(a!==`sha${o}`||c!==a)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(f!==void 0&&f>o>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}break}}});var Mr=l((im,li)=>{var wf=Ze();li.exports=wf.satisfies(process.version,"^6.12.0 || >=8.0.0")});var mi=l((om,pi)=>{var v=de(),bf=Sr(),hi=wr(),If=vr(),Rf=br(),Tf=Hr(),Af=Mr(),xf=Ce(),{KeyObject:$f,createSecretKey:Nf,createPublicKey:Of}=require("crypto"),Xr=["RS256","RS384","RS512"],Lf=["ES256","ES384","ES512"],kr=["RS256","RS384","RS512"],qf=["HS256","HS384","HS512"];Af&&(Xr.splice(Xr.length,0,"PS256","PS384","PS512"),kr.splice(kr.length,0,"PS256","PS384","PS512"));pi.exports=function(e,r,t,n){typeof t=="function"&&!n&&(n=t,t={}),t||(t={}),t=Object.assign({},t);let s;if(n?s=n:s=function(h,u){if(h)throw h;return u},t.clockTimestamp&&typeof t.clockTimestamp!="number")return s(new v("clockTimestamp must be a number"));if(t.nonce!==void 0&&(typeof t.nonce!="string"||t.nonce.trim()===""))return s(new v("nonce must be a non-empty string"));if(t.allowInvalidAsymmetricKeyTypes!==void 0&&typeof t.allowInvalidAsymmetricKeyTypes!="boolean")return s(new v("allowInvalidAsymmetricKeyTypes must be a boolean"));let i=t.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return s(new v("jwt must be provided"));if(typeof e!="string")return s(new v("jwt must be a string"));let o=e.split(".");if(o.length!==3)return s(new v("jwt malformed"));let a;try{a=If(e,{complete:!0})}catch(h){return s(h)}if(!a)return s(new v("invalid token"));let c=a.header,f;if(typeof r=="function"){if(!n)return s(new v("verify must be called asynchronous if secret or public key is provided as a callback"));f=r}else f=function(h,u){return u(null,r)};return f(c,function(h,u){if(h)return s(new v("error in secret or public key callback: "+h.message));let y=o[2].trim()!=="";if(!y&&u)return s(new v("jwt signature is required"));if(y&&!u)return s(new v("secret or public key must be provided"));if(!y&&!t.algorithms)return s(new v('please specify "none" in "algorithms" to verify unsigned tokens'));if(u!=null&&!(u instanceof $f))try{u=Of(u)}catch($){try{u=Nf(typeof u=="string"?Buffer.from(u):u)}catch(ro){return s(new v("secretOrPublicKey is not valid key material"))}}if(t.algorithms||(u.type==="secret"?t.algorithms=qf:["rsa","rsa-pss"].includes(u.asymmetricKeyType)?t.algorithms=kr:u.asymmetricKeyType==="ec"?t.algorithms=Lf:t.algorithms=Xr),t.algorithms.indexOf(a.header.alg)===-1)return s(new v("invalid algorithm"));if(c.alg.startsWith("HS")&&u.type!=="secret")return s(new v(`secretOrPublicKey must be a symmetric key when using ${c.alg}`));if(/^(?:RS|PS|ES)/.test(c.alg)&&u.type!=="public")return s(new v(`secretOrPublicKey must be an asymmetric key when using ${c.alg}`));if(!t.allowInvalidAsymmetricKeyTypes)try{Tf(c.alg,u)}catch($){return s($)}let d;try{d=xf.verify(e,a.header.alg,u)}catch($){return s($)}if(!d)return s(new v("invalid signature"));let w=a.payload;if(typeof w.nbf!="undefined"&&!t.ignoreNotBefore){if(typeof w.nbf!="number")return s(new v("invalid nbf value"));if(w.nbf>i+(t.clockTolerance||0))return s(new bf("jwt not active",new Date(w.nbf*1e3)))}if(typeof w.exp!="undefined"&&!t.ignoreExpiration){if(typeof w.exp!="number")return s(new v("invalid exp value"));if(i>=w.exp+(t.clockTolerance||0))return s(new hi("jwt expired",new Date(w.exp*1e3)))}if(t.audience){let $=Array.isArray(t.audience)?t.audience:[t.audience];if(!(Array.isArray(w.aud)?w.aud:[w.aud]).some(function(nt){return $.some(function(or){return or instanceof RegExp?or.test(nt):or===nt})}))return s(new v("jwt audience invalid. expected: "+$.join(" or ")))}if(t.issuer&&(typeof t.issuer=="string"&&w.iss!==t.issuer||Array.isArray(t.issuer)&&t.issuer.indexOf(w.iss)===-1))return s(new v("jwt issuer invalid. expected: "+t.issuer));if(t.subject&&w.sub!==t.subject)return s(new v("jwt subject invalid. expected: "+t.subject));if(t.jwtid&&w.jti!==t.jwtid)return s(new v("jwt jwtid invalid. expected: "+t.jwtid));if(t.nonce&&w.nonce!==t.nonce)return s(new v("jwt nonce invalid. expected: "+t.nonce));if(t.maxAge){if(typeof w.iat!="number")return s(new v("iat required when maxAge is specified"));let $=Rf(t.maxAge,w.iat);if(typeof $=="undefined")return s(new v('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(i>=$+(t.clockTolerance||0))return s(new hi("maxAge exceeded",new Date($*1e3)))}if(t.complete===!0){let $=a.signature;return s(null,{header:c,payload:w,signature:$})}return s(null,w)})}});var Si=l((am,vi)=>{var di=1/0,gi=9007199254740991,_f=17976931348623157e292,Ei=0/0,jf="[object Arguments]",Df="[object Function]",Pf="[object GeneratorFunction]",Cf="[object String]",Vf="[object Symbol]",Gf=/^\s+|\s+$/g,Bf=/^[-+]0x[0-9a-f]+$/i,Ff=/^0b[01]+$/i,Uf=/^0o[0-7]+$/i,Kf=/^(?:0|[1-9]\d*)$/,Hf=parseInt;function Mf(e,r){for(var t=-1,n=e?e.length:0,s=Array(n);++t<n;)s[t]=r(e[t],t,e);return s}function Xf(e,r,t,n){for(var s=e.length,i=t+(n?1:-1);n?i--:++i<s;)if(r(e[i],i,e))return i;return-1}function kf(e,r,t){if(r!==r)return Xf(e,Wf,t);for(var n=t-1,s=e.length;++n<s;)if(e[n]===r)return n;return-1}function Wf(e){return e!==e}function Yf(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}function Jf(e,r){return Mf(r,function(t){return e[t]})}function zf(e,r){return function(t){return e(r(t))}}var er=Object.prototype,Yr=er.hasOwnProperty,rr=er.toString,Qf=er.propertyIsEnumerable,Zf=zf(Object.keys,Object),el=Math.max;function rl(e,r){var t=yi(e)||ol(e)?Yf(e.length,String):[],n=t.length,s=!!n;for(var i in e)(r||Yr.call(e,i))&&!(s&&(i=="length"||nl(i,n)))&&t.push(i);return t}function tl(e){if(!sl(e))return Zf(e);var r=[];for(var t in Object(e))Yr.call(e,t)&&t!="constructor"&&r.push(t);return r}function nl(e,r){return r=r==null?gi:r,!!r&&(typeof e=="number"||Kf.test(e))&&e>-1&&e%1==0&&e<r}function sl(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||er;return e===t}function il(e,r,t,n){e=Jr(e)?e:El(e),t=t&&!n?pl(t):0;var s=e.length;return t<0&&(t=el(s+t,0)),fl(e)?t<=s&&e.indexOf(r,t)>-1:!!s&&kf(e,r,t)>-1}function ol(e){return al(e)&&Yr.call(e,"callee")&&(!Qf.call(e,"callee")||rr.call(e)==jf)}var yi=Array.isArray;function Jr(e){return e!=null&&ul(e.length)&&!cl(e)}function al(e){return zr(e)&&Jr(e)}function cl(e){var r=Wr(e)?rr.call(e):"";return r==Df||r==Pf}function ul(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gi}function Wr(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function zr(e){return!!e&&typeof e=="object"}function fl(e){return typeof e=="string"||!yi(e)&&zr(e)&&rr.call(e)==Cf}function ll(e){return typeof e=="symbol"||zr(e)&&rr.call(e)==Vf}function hl(e){if(!e)return e===0?e:0;if(e=ml(e),e===di||e===-di){var r=e<0?-1:1;return r*_f}return e===e?e:0}function pl(e){var r=hl(e),t=r%1;return r===r?t?r-t:r:0}function ml(e){if(typeof e=="number")return e;if(ll(e))return Ei;if(Wr(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Wr(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Gf,"");var t=Ff.test(e);return t||Uf.test(e)?Hf(e.slice(2),t?2:8):Bf.test(e)?Ei:+e}function dl(e){return Jr(e)?rl(e):tl(e)}function El(e){return e?Jf(e,dl(e)):[]}vi.exports=il});var bi=l((cm,wi)=>{var gl="[object Boolean]",yl=Object.prototype,vl=yl.toString;function Sl(e){return e===!0||e===!1||wl(e)&&vl.call(e)==gl}function wl(e){return!!e&&typeof e=="object"}wi.exports=Sl});var xi=l((um,Ai)=>{var Ii=1/0,bl=17976931348623157e292,Ri=0/0,Il="[object Symbol]",Rl=/^\s+|\s+$/g,Tl=/^[-+]0x[0-9a-f]+$/i,Al=/^0b[01]+$/i,xl=/^0o[0-7]+$/i,$l=parseInt,Nl=Object.prototype,Ol=Nl.toString;function Ll(e){return typeof e=="number"&&e==Dl(e)}function Ti(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function ql(e){return!!e&&typeof e=="object"}function _l(e){return typeof e=="symbol"||ql(e)&&Ol.call(e)==Il}function jl(e){if(!e)return e===0?e:0;if(e=Pl(e),e===Ii||e===-Ii){var r=e<0?-1:1;return r*bl}return e===e?e:0}function Dl(e){var r=jl(e),t=r%1;return r===r?t?r-t:r:0}function Pl(e){if(typeof e=="number")return e;if(_l(e))return Ri;if(Ti(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ti(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Rl,"");var t=Al.test(e);return t||xl.test(e)?$l(e.slice(2),t?2:8):Tl.test(e)?Ri:+e}Ai.exports=Ll});var Ni=l((fm,$i)=>{var Cl="[object Number]",Vl=Object.prototype,Gl=Vl.toString;function Bl(e){return!!e&&typeof e=="object"}function Fl(e){return typeof e=="number"||Bl(e)&&Gl.call(e)==Cl}$i.exports=Fl});var _i=l((lm,qi)=>{var Ul="[object Object]";function Kl(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch(t){}return r}function Hl(e,r){return function(t){return e(r(t))}}var Ml=Function.prototype,Oi=Object.prototype,Li=Ml.toString,Xl=Oi.hasOwnProperty,kl=Li.call(Object),Wl=Oi.toString,Yl=Hl(Object.getPrototypeOf,Object);function Jl(e){return!!e&&typeof e=="object"}function zl(e){if(!Jl(e)||Wl.call(e)!=Ul||Kl(e))return!1;var r=Yl(e);if(r===null)return!0;var t=Xl.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Li.call(t)==kl}qi.exports=zl});var Di=l((hm,ji)=>{var Ql="[object String]",Zl=Object.prototype,eh=Zl.toString,rh=Array.isArray;function th(e){return!!e&&typeof e=="object"}function nh(e){return typeof e=="string"||!rh(e)&&th(e)&&eh.call(e)==Ql}ji.exports=nh});var Bi=l((pm,Gi)=>{var sh="Expected a function",Pi=1/0,ih=17976931348623157e292,Ci=0/0,oh="[object Symbol]",ah=/^\s+|\s+$/g,ch=/^[-+]0x[0-9a-f]+$/i,uh=/^0b[01]+$/i,fh=/^0o[0-7]+$/i,lh=parseInt,hh=Object.prototype,ph=hh.toString;function mh(e,r){var t;if(typeof r!="function")throw new TypeError(sh);return e=vh(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=void 0),t}}function dh(e){return mh(2,e)}function Vi(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Eh(e){return!!e&&typeof e=="object"}function gh(e){return typeof e=="symbol"||Eh(e)&&ph.call(e)==oh}function yh(e){if(!e)return e===0?e:0;if(e=Sh(e),e===Pi||e===-Pi){var r=e<0?-1:1;return r*ih}return e===e?e:0}function vh(e){var r=yh(e),t=r%1;return r===r?t?r-t:r:0}function Sh(e){if(typeof e=="number")return e;if(gh(e))return Ci;if(Vi(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Vi(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(ah,"");var t=uh.test(e);return t||fh.test(e)?lh(e.slice(2),t?2:8):ch.test(e)?Ci:+e}Gi.exports=dh});var Yi=l((mm,Wi)=>{var Fi=br(),wh=Mr(),bh=Hr(),Ui=Ce(),Ih=Si(),tr=bi(),Ki=xi(),Qr=Ni(),Mi=_i(),U=Di(),Rh=Bi(),{KeyObject:Th,createSecretKey:Ah,createPrivateKey:xh}=require("crypto"),Xi=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];wh&&Xi.splice(3,0,"PS256","PS384","PS512");var $h={expiresIn:{isValid:function(e){return Ki(e)||U(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return Ki(e)||U(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return U(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:Ih.bind(null,Xi),message:'"algorithm" must be a valid string enum value'},header:{isValid:Mi,message:'"header" must be an object'},encoding:{isValid:U,message:'"encoding" must be a string'},issuer:{isValid:U,message:'"issuer" must be a string'},subject:{isValid:U,message:'"subject" must be a string'},jwtid:{isValid:U,message:'"jwtid" must be a string'},noTimestamp:{isValid:tr,message:'"noTimestamp" must be a boolean'},keyid:{isValid:U,message:'"keyid" must be a string'},mutatePayload:{isValid:tr,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:tr,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:tr,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},Nh={iat:{isValid:Qr,message:'"iat" should be a number of seconds'},exp:{isValid:Qr,message:'"exp" should be a number of seconds'},nbf:{isValid:Qr,message:'"nbf" should be a number of seconds'}};function ki(e,r,t,n){if(!Mi(t))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(t).forEach(function(s){let i=e[s];if(!i){if(!r)throw new Error('"'+s+'" is not allowed in "'+n+'"');return}if(!i.isValid(t[s]))throw new Error(i.message)})}function Oh(e){return ki($h,!1,e,"options")}function Lh(e){return ki(Nh,!0,e,"payload")}var Hi={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},qh=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];Wi.exports=function(e,r,t,n){typeof t=="function"?(n=t,t={}):t=t||{};let s=typeof e=="object"&&!Buffer.isBuffer(e),i=Object.assign({alg:t.algorithm||"HS256",typ:s?"JWT":void 0,kid:t.keyid},t.header);function o(f){if(n)return n(f);throw f}if(!r&&t.algorithm!=="none")return o(new Error("secretOrPrivateKey must have a value"));if(r!=null&&!(r instanceof Th))try{r=xh(r)}catch(f){try{r=Ah(typeof r=="string"?Buffer.from(r):r)}catch(h){return o(new Error("secretOrPrivateKey is not valid key material"))}}if(i.alg.startsWith("HS")&&r.type!=="secret")return o(new Error(`secretOrPrivateKey must be a symmetric key when using ${i.alg}`));if(/^(?:RS|PS|ES)/.test(i.alg)){if(r.type!=="private")return o(new Error(`secretOrPrivateKey must be an asymmetric key when using ${i.alg}`));if(!t.allowInsecureKeySizes&&!i.alg.startsWith("ES")&&r.asymmetricKeyDetails!==void 0&&r.asymmetricKeyDetails.modulusLength<2048)return o(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`))}if(typeof e=="undefined")return o(new Error("payload is required"));if(s){try{Lh(e)}catch(f){return o(f)}t.mutatePayload||(e=Object.assign({},e))}else{let f=qh.filter(function(h){return typeof t[h]!="undefined"});if(f.length>0)return o(new Error("invalid "+f.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp!="undefined"&&typeof t.expiresIn!="undefined")return o(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf!="undefined"&&typeof t.notBefore!="undefined")return o(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{Oh(t)}catch(f){return o(f)}if(!t.allowInvalidAsymmetricKeyTypes)try{bh(i.alg,r)}catch(f){return o(f)}let a=e.iat||Math.floor(Date.now()/1e3);if(t.noTimestamp?delete e.iat:s&&(e.iat=a),typeof t.notBefore!="undefined"){try{e.nbf=Fi(t.notBefore,a)}catch(f){return o(f)}if(typeof e.nbf=="undefined")return o(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof t.expiresIn!="undefined"&&typeof e=="object"){try{e.exp=Fi(t.expiresIn,a)}catch(f){return o(f)}if(typeof e.exp=="undefined")return o(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(Hi).forEach(function(f){let h=Hi[f];if(typeof t[f]!="undefined"){if(typeof e[h]!="undefined")return o(new Error('Bad "options.'+f+'" option. The payload already has an "'+h+'" property.'));e[h]=t[f]}});let c=t.encoding||"utf8";if(typeof n=="function")n=n&&Rh(n),Ui.createSign({header:i,privateKey:r,payload:e,encoding:c}).once("error",n).once("done",function(f){if(!t.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&f.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`));n(null,f)});else{let f=Ui.sign({header:i,payload:e,secret:r,encoding:c});if(!t.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&f.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`);return f}}});var zi=l((dm,Ji)=>{Ji.exports={decode:vr(),verify:mi(),sign:Yi(),JsonWebTokenError:de(),NotBeforeError:Sr(),TokenExpiredError:wr()}});var Dh={};ao(Dh,{default:()=>jh});module.exports=co(Dh);var ft=fe(ut());ft.config();var Ae=process.env.ACCESS_ID_TOKEN,xe=process.env.SECRET_TOKEN,le=process.env.JWT_SECRET,lt=process.env.EXPIRES_IN,Bh=process.env.SQS_URL,Fh=process.env.REFRESH_TOKEN_SECRET;var Y=fe(require("aws-sdk"));var Hh=new Y.SQS({apiVersion:"2012-11-05",region:"us-west-1",credentials:{accessKeyId:Ae,secretAccessKey:xe}}),Mh=new Y.SES({apiVersion:"2010-12-01",region:"us-west-1",credentials:{accessKeyId:Ae,secretAccessKey:xe},endpoint:"http://localhost:4566/"}),W=new Y.DynamoDB.DocumentClient({region:"localhost",credentials:{accessKeyId:Ae,secretAccessKey:xe},endpoint:"http://localhost:8000/"}),J={scan(e){return O(this,null,function*(){let r={TableName:e},t=yield W.scan(r).promise();if(!t||!t.Items)throw Error(`There was an error scanning the table ${e}`);return t.Items})},query(e,r,t){return O(this,null,function*(){let n={TableName:t,KeyConditionExpression:"#k = :v",ExpressionAttributeNames:{"#k":e},ExpressionAttributeValues:{":v":r}},s=yield W.query(n).promise();if(!s||!s.Items)throw Error(`There was an error querying the table ${t}`);return s.Items})},update(e,r,t,n,s){return O(this,null,function*(){let i={TableName:s,Key:{[e]:r},ExpressionAttributeNames:{"#k":t},ExpressionAttributeValues:{":v":n},UpdateExpression:"SET #k = :v",ReturnValues:"ALL_NEW"},o=yield W.update(i).promise();if(!o)throw Error(`There was an error updating the item in table ${s}`);return o.Attributes})},get(e,r,t){return O(this,null,function*(){let n={TableName:t,Key:{[e]:r}},s=yield W.get(n).promise();return console.log(s,"data"),s.Item?s.Item:{result:"No item found"}})},delete(e,r,t){return O(this,null,function*(){let n={TableName:t,Key:{[e]:r}};if(!(yield W.delete(n).promise()))throw Error(`There was an error deleting ${r} from ${t}`);return{result:"Successfully deleted"}})},write(e,r){return O(this,null,function*(){let t={TableName:r,Item:e};return console.log({data:e},"params"),yield W.put(t).promise(),e})}};var z={_DefineResponse(e=502,r={}){return{headers:{"Content-Type":"application/json","Access-Control-Allow-Methods":"*","Access-Control-Allow-Origin":"*"},statusCode:e,body:JSON.stringify(r)}},_Redirect(e=302,r={}){return{headers:{"Content-Type":"application/json","Access-Control-Allow-Methods":"*","Access-Control-Allow-Origin":"*",Location:r},statusCode:e,body:""}},_200(e={}){return this._DefineResponse(200,e)},_204(e={}){return this._DefineResponse(204,e)},_400(e={}){return this._DefineResponse(400,e)},_404(e={}){return this._DefineResponse(404,e)},_401(e={}){return this._DefineResponse(401,e)},_201(e={}){return this._DefineResponse(201,e)},_302(e={}){return this._DefineResponse(302,e)},_500(e={}){return this._DefineResponse(500,e)}};var ir=fe(zi());var Qi=fe(require("crypto")),sr=new Uint8Array(256),nr=sr.length;function Zr(){return nr>sr.length-16&&(Qi.default.randomFillSync(sr),nr=0),sr.slice(nr,nr+=16)}var R=[];for(let e=0;e<256;++e)R.push((e+256).toString(16).slice(1));function Zi(e,r=0){return R[e[r+0]]+R[e[r+1]]+R[e[r+2]]+R[e[r+3]]+"-"+R[e[r+4]]+R[e[r+5]]+"-"+R[e[r+6]]+R[e[r+7]]+"-"+R[e[r+8]]+R[e[r+9]]+"-"+R[e[r+10]]+R[e[r+11]]+R[e[r+12]]+R[e[r+13]]+R[e[r+14]]+R[e[r+15]]}var eo=fe(require("crypto")),et={randomUUID:eo.default.randomUUID};function _h(e,r,t){if(et.randomUUID&&!r&&!e)return et.randomUUID();e=e||{};let n=e.random||(e.rng||Zr)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(let s=0;s<16;++s)r[t+s]=n[s];return r}return Zi(n)}var rt=_h;var tt=class{generateToken(r,t,n){return O(this,null,function*(){return ir.sign(r,t,n?{expiresIn:n}:"")})}comparePasswords(r,t){return O(this,null,function*(){let n=ir.verify(t,le);return r===n.password})}register(r,t,n){return O(this,null,function*(){let s=JSON.parse(r.body),{email:i,password:o}=s;(!i||!o)&&n(null,z._400({message:"Invalid data | email, password are required"})),(yield J.get("email",i,"users-table")).result!=="No item found"&&n(null,z._400({message:"User already exists"}));let c=rt(),f=yield this.generateToken({email:i,password:o,id:c},le,"24h"),h=yield this.generateToken({email:i,password:o,id:c},le),u=yield J.write({id:c,email:i,access_token:f,refresh_token:h},"users-table");n(null,z._200({message:"User registered successfully",data:u}))})}login(r,t,n){return O(this,null,function*(){let s=JSON.parse(r.body),{email:i,password:o}=s;if(!i||!o)return{error:"Invalid data | email, password are required"};let a=yield J.get("email",i,"users-table");console.log(a),(!a||!a.refresh_token||!(yield this.comparePasswords(o,a.refresh_token)))&&n(null,z._400({message:"Invalid credentials"}));let c=yield this.generateToken({email:a.email,password:o,id:a.id},le,lt),f=yield J.write({id:a.id,email:a.email,access_token:c,refresh_token:a.refresh_token},"users-table");n(null,z._200({message:"User logged in successfully",data:f}))})}refreshToken(r){return O(this,null,function*(){let t=yield J.get("email",r,"users-table");return t?{refresh_token:t.refresh_token,access_token:t.access_token}:{error:"Invalid credentials"}})}},jh=new tt;
//# sourceMappingURL=auth.service.js.map
